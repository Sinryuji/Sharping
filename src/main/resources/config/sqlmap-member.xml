<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybaits.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="memberDAO">

	<insert id="insertMember" parameterType="memberVO">
		INSERT INTO MEMBER VALUES (#{id}, #{password}, #{name}, #{phone}, #{email}, SYSDATE, 1)
	</insert>
	
	<insert id="insertSeller" parameterType="sellerVO">
		INSERT INTO SELLER VALUES (#{id}, #{storeName}, #{storeAddress}, #{storeText}, 1, #{post}, #{address}, #{bankAccount}, #{bankCode})
	</insert>
	
	<select id="selectIdByEmail" parameterType="String" resultType="String">
		SELECT "id" FROM MEMBER WHERE "email" = #{email} 
	</select>
	
	<select id="selectIdByPhone" parameterType="String" resultType="String">
		SELECT "id" FROM MEMBER WHERE "phone" = #{phone} 
	</select>
	
	<update id="updatePwByEmail" parameterType="changePwVO">
		UPDATE MEMBER SET "password" = #{newPassword} WHERE "email" = #{email}
	</update>
	
	<update id="updatePwByPhone" parameterType="changePwVO">
		UPDATE MEMBER SET "password" = #{newPassword} WHERE "phone" = #{phone}
	</update>
	
	<select  id="selectMemberById" resultType="memberVO" parameterType="String">
		SELECT * FROM MEMBER WHERE "id"=#{id}
	 </select>

	<select  id="selectMemberId" resultType="int">
		SELECT COUNT(*) FROM MEMBER WHERE "id"=#{id}
	 </select>
</mapper>