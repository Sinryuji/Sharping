<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybaits.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="adminDAO">

	<insert id="insertAdmin" parameterType="adminVO">
		INSERT INTO ADMIN VALUES (#{adminId}, #{adminPassword})
	</insert>

	<select id="selectAdminById" resultType="adminVO"
		parameterType="String">
		SELECT * FROM ADMIN WHERE "adminId"=#{adminId}
	</select>

	<select id="selectAdminId" resultType="int"
		parameterType="String">
		SELECT COUNT(*) FROM ADMIN WHERE "adminId"=#{adminId}
	</select>

	<select id="getMemberList" resultType="memberVO">
		SELECT "id", "email", "regDate", "memberGrade" FROM MEMBER
		<if test="keywordM != null and keywordM != '' ">
			WHERE "id" like '%'||#{keywordM}||'%'
		</if>                
	</select>
	
	<select id="getSellerList" resultType="sellerListVO">
		SELECT S."id", M."email", M."regDate", S."sellerGrade" FROM MEMBER M, SELLER S
		WHERE S."id" = M."id"
		<if test="keywordM != null and keywordM != '' ">
			AND S."id" like '%'||#{keywordM}||'%'
		</if>
	</select>
	
	<delete id="deleteMemberById" parameterType="memberVO">
		DELETE FROM MEMBER WHERE "id"=#{id}              
	</delete>
	
	<select id="deleteSellerById" parameterType="sellerVO">
		DELETE FROM SELLER WHERE "id"=#{id}              
	</select>
	
	<select id="selectNoticeByNoticeNum" resultType="noticeVO" >
		SELECT * FROM NOTICE WHERE "noticeNum"=#{noticeNum}
	</select>
	
	<select id="getNoticeList" resultType="noticeVO">
		SELECT * FROM NOTICE         
	</select>
	
	<delete id="deleteNoticeByNoticeNum" parameterType="noticeVO">
		DELETE FROM NOTICE WHERE "noticeNum"=#{noticeNum}              
	</delete>

	<insert id="insertNotice" parameterType="noticeVO">
		INSERT INTO NOTICE VALUES (NOTICE_SEQ.nextval, #{adminId}, #{noticeSubject}, #{noticeText}, SYSDATE, #{noticePost})
	</insert>
	
	<update id="updateNoticeByNoticeNum" parameterType="noticeVO">
		UPDATE NOTICE SET "noticeSubject"=#{noticeSubject}, "noticeText"=#{noticeText}, "noticePost"=#{noticePost} WHERE "noticeNum"=#{noticeNum}
	</update>
	
	 <update id="updateNoticePostByNoticeNum" parameterType="noticeVO">
      	UPDATE NOTICE SET "noticePost" = #{noticePost} WHERE "noticeNum" = #{noticeNum}
    </update>
    
    
    
    
    
    
    
    
    <select id="selectCategory" resultType="categoryVO">
    	SELECT "categoryDepth", "categoryName", "categoryNum", "pcNum" FROM CATEGORY
    </select>
    
    <select id="insertCategory" parameterType="categoryVO">
		INSERT INTO CATEGORY VALUES (#{categoryDepth}, #{categoryName}, #{categoryNum}, #{pcNum}  
    </select>
    
    <update id="updateCategory" parameterType="categoryVO">
    	UPDATE CATEGORY SET "categoryName"=#{categoryName}, "categoryDepth"=#{categoryDepth}, "pcNum"=#{pcNum}
    	WHERE "categoryNum"=#{categoryNum}
    </update>
    
    <delete id="deleteCategory" parameterType="String">
    	DELETE FROM CATEGORY WHERE "categoryNum"=#{categoryNum}
    </delete>
    
</mapper>